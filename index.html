<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ë‚˜ì˜ ë°±íŒ¨í‚¹ ì í•©ë„ ì•Œì•„ë³´ê¸°</title>

<style>
body{
  margin:0;
  font-family:"Apple SD Gothic Neo","Noto Sans KR","Malgun Gothic",sans-serif;
  background:#0b0f17;
  color:#e8eefc;
}
header{
  text-align:center;
  margin:20px 0;
}
main{
  max-width:900px;
  margin:0 auto 40px;
  padding:0 16px;
  display:grid;
  grid-template-columns:1.2fr .8fr;
  gap:16px;
}
@media (max-width:900px){
  main{ grid-template-columns:1fr; }
}
.card{
  background:#121a2a;
  border-radius:16px;
  padding:16px;
}
.question{
  border-top:1px solid #2a3350;
  padding-top:12px;
  margin-top:12px;
}
.options{
  display:flex;
  flex-direction:column;
  gap:8px;
  margin-top:8px;
}
.opt{
  border:1px solid #2a3350;
  border-radius:12px;
  padding:8px 12px;
  cursor:pointer;
  user-select:none;
}
.opt:hover{ background:#1b2740; }

.summary{ position:sticky; top:20px; }
.big{ font-size:30px; font-weight:700; }

.bar{
  height:10px;
  background:#2a3350;
  border-radius:10px;
  margin:10px 0;
}
.fill{
  height:100%;
  width:0%;
}
.bar-low { background:#dc2626; }   /* red */
.bar-mid { background:#facc15; }   /* yellow */
.bar-high{ background:#16a34a; }   /* green */

.verdict{
  margin-top:10px;
  padding:10px;
  border-radius:12px;
}

button{
  margin-top:8px;
  padding:8px 12px;
  border-radius:10px;
  border:none;
  cursor:pointer;
}
</style>
</head>

<body>

<header>
  <h1>ë‚˜ì˜ ë°±íŒ¨í‚¹ ì í•©ë„ ì•Œì•„ë³´ê¸° ğŸ•ï¸</h1>
  <p>
    ê° ë¬¸í•­ì— ì‘ë‹µí•˜ì„¸ìš”.<br>
    <strong>ì´ì ì´ ë†’ì„ìˆ˜ë¡ ë°±íŒ¨í‚¹ ì í•©ë„ê°€ ë†’ìŠµë‹ˆë‹¤.</strong>
  </p>
</header>

<main>

<section class="card">
  <div id="questionList"></div>
</section>

<aside class="card summary">
  <div class="big">
    <span id="scoreNow">0</span> / <span id="scoreMax">40</span>
    (<span id="scorePercent">0</span>% <span id="scoreEmoji">ğŸ™‚</span>)
  </div>

  <div class="bar">
    <div class="fill" id="fillBar"></div>
  </div>

  <div id="verdictBox" class="verdict">
    <strong id="verdictTitle">ì‘ë‹µì„ ì‹œì‘í•˜ì„¸ìš”</strong>
    <div id="verdictText"></div>
  </div>

  <button id="btnReset" type="button">ì´ˆê¸°í™”</button>
</aside>

</main>

<script>
const QUESTIONS = [
  {
    id: "Q1",
    text: "ìº í•‘ ê²½í—˜ì´ ìˆìœ¼ì‹ ê°€ìš”?",
    options: [
      { label: "ìˆìŠµë‹ˆë‹¤", score: 5 },
      { label: "ì—†ìŠµë‹ˆë‹¤", score: 1 }
    ]
  },
  {
    id: "Q2",
    text: "ìº í•‘ì„ ê°ˆ ë•Œ ë¬´ì—‡ì„ ë” ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ì‹œë‚˜ìš”?",
    options: [
      { label: "ë©‹ì§„ í’ê²½ (100%)", score: 5 },
      { label: "ë©‹ì§„ í’ê²½ (70%) / ì•ˆë½í•œ íœ´ì‹ (30%)", score: 4 },
      { label: "ë©‹ì§„ í’ê²½ê³¼ ì•ˆë½í•œ íœ´ì‹", score: 3 },
      { label: "ë©‹ì§„ í’ê²½ (30%) / ì•ˆë½í•œ íœ´ì‹ (70%)", score: 2 },
      { label: "ì•ˆë½í•œ íœ´ì‹ (100%)", score: 1 }
    ]
  },
  {
    id: "Q3",
    text: "í™”ì¥ì‹¤ì´ ì—†ëŠ” ê³³ì—ì„œì˜ ìº í•‘ì„ ì–´ë–»ê²Œ ìƒê°í•˜ì‹œë‚˜ìš”?",
    options: [
      { label: "ì „í˜€ ë¬¸ì œ ì—†ìŒ", score: 5 },
      { label: "ì¡°ê¸ˆ ë¶ˆí¸í•˜ì§€ë§Œ ê°€ëŠ¥", score: 4 },
      { label: "ë³´í†µì´ë‹¤", score: 3 },
      { label: "ë§ì´ ë¶ˆí¸í•˜ë‹¤", score: 2 },
      { label: "ì ˆëŒ€ ë¶ˆê°€", score: 1 }
    ]
  },
  {
    id: "Q4",
    text: "ì²´ë ¥ì— ìì‹ ì´ ìˆëŠ” í¸ì¸ê°€ìš”?",
    options: [
      { label: "ë§¤ìš° ìì‹  ìˆë‹¤", score: 5 },
      { label: "ì–´ëŠ ì •ë„ ìì‹  ìˆë‹¤", score: 4 },
      { label: "ë³´í†µì´ë‹¤", score: 3 },
      { label: "ìì‹  ì—†ëŠ” í¸ì´ë‹¤", score: 2 },
      { label: "ì „í˜€ ìì‹ ì´ ì—†ë‹¤", score: 1 }
    ]
  },
  {
    id: "Q5",
    text: "ì•¼ì˜ ì¤‘ ë§ˆì£¼ì¹  ìˆ˜ ìˆëŠ” ê³¤ì¶©ê³¼ ë²Œë ˆì— ë¯¼ê°í•˜ì‹ ê°€ìš”?",
    options: [
      { label: "ì „í˜€ ë¬¸ì œ ì—†ë‹¤", score: 5 },
      { label: "ì•½ê°„ ì‹ ê²½ ì“°ì¸ë‹¤", score: 4 },
      { label: "ë³´í†µì´ë‹¤", score: 3 },
      { label: "ê½¤ ë¯¼ê°í•œ í¸ì´ë‹¤", score: 2 },
      { label: "ëª¹ì‹œ ë¯¼ê°í•˜ë‹¤", score: 1 }
    ]
  },
  {
    id: "Q6",
    text: "ì•¼ì™¸í™œë™ì„ í•  ë•Œ, ì•…ì²œí›„ë‚˜ ì¼êµì°¨ê°€ í° ë‚ ì— ë¯¼ê°í•˜ì‹ ê°€ìš”?",
    options: [
      { label: "ì „í˜€ ë¯¼ê°í•˜ì§€ ì•Šë‹¤", score: 5 },
      { label: "ì•½ê°„ ë¯¼ê°í•œ í¸ì´ë‹¤", score: 4 },
      { label: "ë³´í†µì´ë‹¤", score: 3 },
      { label: "ìƒë‹¹íˆ ë¯¼ê°í•˜ë‹¤", score: 2 },
      { label: "ë§¤ìš° ë¯¼ê°í•˜ë‹¤", score: 1 }
    ]
  },
  {
    id: "Q7",
    text: "2~3ì¼ê°„ ìƒ¤ì›Œí•˜ì§€ ëª»í•´ë„ ê´œì°®ìœ¼ì‹ ê°€ìš”?",
    options: [
      { label: "ì „í˜€ ë¬¸ì œ ì—†ë‹¤", score: 5 },
      { label: "ê´œì°®ì€ í¸ì´ë‹¤", score: 4 },
      { label: "ë³´í†µì´ë‹¤", score: 3 },
      { label: "ê½¤ ë¶ˆí¸í•˜ë‹¤", score: 2 },
      { label: "ì ˆëŒ€ ë¶ˆê°€", score: 1 }
    ]
  },
  {
    id: "Q8",
    text: "ë¼ë©´, ë™ê²°ê±´ì¡°ì‹ëŸ‰ ë“± ë‹¨ìˆœí•œ ì‹ì‚¬ë¥¼ ê³„ì† ë¨¹ëŠ” ê²ƒì— ê±°ë¶€ê°ì´ ìˆìœ¼ì‹ ê°€ìš”?",
    options: [
      { label: "ì „í˜€ ê±°ë¶€ê° ì—†ë‹¤", score: 5 },
      { label: "í¬ê²Œ ê±°ë¶€ê°ì€ ì—†ë‹¤", score: 4 },
      { label: "ë³´í†µì´ë‹¤", score: 3 },
      { label: "ë‹¤ì†Œ ê±°ë¶€ê°ì´ ìˆë‹¤", score: 2 },
      { label: "ë§¤ìš° ê±°ë¶€ê°ì´ ìˆë‹¤", score: 1 }
    ]
  }
];

const ql = document.getElementById("questionList");
const sn = document.getElementById("scoreNow");
const fb = document.getElementById("fillBar");
const vt = document.getElementById("verdictTitle");
const vtx = document.getElementById("verdictText");
const sp = document.getElementById("scorePercent");
const se = document.getElementById("scoreEmoji");

function render(){
  ql.innerHTML="";
  QUESTIONS.forEach(q=>{
    const d=document.createElement("div");
    d.className="question";
    d.innerHTML=`<strong>${q.text}</strong>`;
    const o=document.createElement("div");
    o.className="options";
    q.options.forEach((opt,i)=>{
      o.innerHTML+=`
        <label class="opt">
          <input type="radio" name="${q.id}" value="${opt.score}">
          ${i+1}. ${opt.label}
        </label>`;
    });
    d.appendChild(o);
    ql.appendChild(d);
  });
  ql.addEventListener("change",update);
}

function update(){
  let total=0;
  let answered=0;

  QUESTIONS.forEach(q=>{
    const c=document.querySelector(`input[name="${q.id}"]:checked`);
    if(c){ total+=Number(c.value); answered++; }
  });

  sn.textContent=total;
  fb.style.width=`${(total/40)*100}%`;

  // í¼ì„¼íŠ¸ ê³„ì‚° (8~40)
  let percent=Math.round(((total-8)/(40-8))*100);
  if(percent<0) percent=0;
  if(percent>100) percent=100;
  sp.textContent=percent;

  // ì´ëª¨ì§€
  if(percent<=33) se.textContent="ğŸ˜µ";
  else if(percent<=66) se.textContent="ğŸ™‚";
  else se.textContent="ğŸ•ï¸";

  // ìƒ‰ìƒ ì´ˆê¸°í™”
  fb.className="fill";

  if(answered===0){
    vt.textContent="ì‘ë‹µì„ ì‹œì‘í•˜ì„¸ìš”";
    vtx.textContent="";
    return;
  }

  if(total<=20){
    fb.classList.add("bar-low");
    vt.textContent="ì í•©ë„ : ë‚®ìŒ";
    vtx.textContent="ë§ì€ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ëŠë‚„ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤";
  }
  else if(total<=30){
    fb.classList.add("bar-mid");
    vt.textContent="ì í•©ë„ : ë³´í†µ";
    vtx.textContent="ë°±íŒ¨í‚¹ì— ë„ì „í•´ë³´ì„¸ìš”!";
  }
  else{
    fb.classList.add("bar-high");
    vt.textContent="ì í•©ë„ : ë†’ìŒ";
    vtx.textContent="ë‹¹ì¥ ë°°ë‚­ì„ ë©”ë„ ì¢‹ìŠµë‹ˆë‹¤";
  }
}

document.getElementById("btnReset").addEventListener("click",()=>location.reload());

render();
</script>

</body>
</html>
